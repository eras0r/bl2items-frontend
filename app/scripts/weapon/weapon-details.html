<h1 data-translate="{{::$state.current.data.pageTitle}}"></h1>

<div class="row">
    <div class="col-md-6">

        <div class="panel panel-default">
            <div class="panel-heading" data-translate="{{::$state.current.data.formTitle}}"></div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <fieldset>
                        <div class="form-group" data-ng-class="{'has-error': vm.errors.level}">
                            <label for="level" class="col-lg-3 control-label"
                                   data-translate="weapons.details.levelRequirement"></label>

                            <div class="col-lg-9">
                                <input type="number" id="level" data-ng-model="vm.weapon.level" class="form-control"
                                       min="1" max="72">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.level">{{vm.errors.level}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.rarity}">
                            <label for="rarity2" class="col-lg-3 control-label"
                                   data-translate="weapons.details.rarity"></label>

                            <div class="col-lg-9">
                                <select id="rarity2" data-ng-model="vm.weapon.rarity"
                                        data-ng-options="r.name for r in vm.rarities track by r.id"
                                        class="form-control">
                                </select>
                                <span class="help-inline text-danger" data-ng-show="vm.errors.rarity">{{vm.errors.rarity}}</span>
                            </div>

                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.name}">
                            <label for="name" class="col-lg-3 control-label"
                                   data-translate="weapons.details.name"></label>

                            <div class="col-lg-9">
                                <input type="text" id="name" data-ng-model="vm.weapon.name"
                                       placeholder="Practicable Butcher" class="form-control">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.name">{{vm.errors.name}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.gibbedCode}">
                            <label for="gibbedCode" class="col-lg-3 control-label"
                                   data-translate="weapons.details.gibbedCode"></label>

                            <div class="col-lg-9">
                                <input type="text" id="gibbedCode" data-ng-model="vm.weapon.gibbedCode"
                                       placeholder="BL2(...)" class="form-control">
                                <span class="help-inline text-danger" data-ng-show="vm.errors.gibbedCode">{{vm.errors.gibbedCode}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.damage}">

                            <div class="col-xs-6">
                                <label for="damage" class="col-lg-3 control-label"
                                       data-translate="weapons.details.damage"></label>

                                <div class="col-lg-9">
                                    <input type="text" id="damage" data-ng-model="vm.weapon.damage" placeholder="5463"
                                           class="form-control">
                                    <span class="help-inline text-danger"
                                          data-ng-show="vm.errors.damage">{{vm.errors.damage}}</span>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <label for="multiplicator" class="col-lg-3 control-label"
                                       data-translate="weapons.details.multiplicator"></label>

                                <div class="col-lg-9">
                                    <input type="text" id="multiplicator" data-ng-model="vm.weapon.multiplicator"
                                           placeholder="3" class="form-control">
                                    <span class="help-inline text-danger"
                                          data-ng-show="vm.errors.multiplicator">{{vm.errors.multiplicator}}</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.accuracy}">
                            <label for="accuracy" class="col-lg-3 control-label"
                                   data-translate="weapons.details.accuracy"></label>

                            <div class="col-lg-9">
                                <input type="text" id="accuracy" data-ng-model="vm.weapon.accuracy" placeholder="61.9"
                                       class="form-control">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.accuracy">{{vm.errors.accuracy}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.fireRate}">
                            <label for="fireRate" class="col-lg-3 control-label"
                                   data-translate="weapons.details.fireRate"></label>

                            <div class="col-lg-9">
                                <input type="text" id="fireRate" data-ng-model="vm.weapon.fireRate" placeholder="7.0"
                                       class="form-control">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.fireRate">{{vm.errors.fireRate}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.reloadSpeed}">
                            <label for="reloadSpeed" class="col-lg-3 control-label"
                                   data-translate="weapons.details.reloadSpeed"></label>

                            <div class="col-lg-9">
                                <input type="text" id="reloadSpeed" data-ng-model="vm.weapon.reloadSpeed"
                                       placeholder="3.7" class="form-control">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.reloadSpeed">{{vm.errors.reloadSpeed}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.magazineSize}">
                            <label for="magazineSize" class="col-lg-3 control-label"
                                   data-translate="weapons.details.magazineSize"></label>

                            <div class="col-lg-9">
                                <input type="text" id="magazineSize" data-ng-model="vm.weapon.magazineSize"
                                       placeholder="13" class="form-control">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.magazineSize">{{vm.errors.magazineSize}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.damageType}">
                            <label for="damageType" class="col-lg-3 control-label"
                                   data-translate="weapons.details.damageType"></label>

                            <div class="col-lg-9">
                                <select id="damageType" data-ng-model="vm.weapon.damageType"
                                        data-ng-options="dmg.name for dmg in vm.damageTypes track by dmg.id"
                                        class="form-control" data-ng-change="vm.changeDamageType()">
                                    <option>-none-</option>
                                </select>
                            <span class="help-inline text-danger"
                                  data-ng-show="vm.errors.damageType">{{vm.errors.damageType}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-hide="vm.weapon.damageType.damageLabel == null"
                             data-ng-class="{'has-error': vm.errors.elemDamage}">
                            <label for="elemDamage"
                                   class="col-lg-3 control-label">{{vm.weapon.damageType.damageLabel}}</label>

                            <div class="col-lg-9">
                                <input type="text" id="elemDamage" data-ng-model="vm.weapon.elemDamage"
                                       placeholder="3605.9" class="form-control">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.elemDamage">{{vm.errors.elemDamage}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-hide="vm.weapon.damageType.chanceLabel == null"
                             data-ng-class="{'has-error': vm.errors.elemChance}">
                            <label for="elemChance"
                                   class="col-lg-3 control-label">{{vm.weapon.damageType.chanceLabel}}</label>

                            <div class="col-lg-9">
                                <div class="input-group">
                                    <span class="input-group-addon">%</span>
                                    <input type="text" id="elemChance" data-ng-model="vm.weapon.elemChance"
                                           placeholder="12.0" class="form-control">
                                </div>

                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.elemChance">{{vm.errors.elemChance}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.uniqueText}">
                            <label for="uniqueText" class="col-lg-3 control-label"
                                   data-translate="weapons.details.uniqueText"></label>

                            <div class="col-lg-9">
                                <input type="text" id="uniqueText" data-ng-model="vm.weapon.uniqueText" placeholder=""
                                       class="form-control">
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.uniqueText">{{vm.errors.uniqueText}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.additionalText}">
                            <label for="additionalText" class="col-lg-3 control-label"
                                   data-translate="weapons.details.additionalText"></label>

                            <div class="col-lg-9">
                                <textarea id="additionalText" data-ng-model="vm.weapon.additionalText" placeholder=""
                                          class="form-control" rows="5">
                                </textarea>
                                <span class="help-inline text-danger"
                                      data-ng-show="vm.errors.additionalText">{{vm.errors.additionalText}}</span>
                            </div>
                        </div>

                        <div class="form-group" data-ng-class="{'has-error': vm.errors.manufacturer}">
                            <label for="manufacturer" class="col-lg-3 control-label"
                                   data-translate="weapons.details.manufacturer"></label>

                            <div class="col-lg-9">
                                <select id="manufacturer" data-ng-model="vm.weapon.manufacturer"
                                        data-ng-options="man.name for man in vm.manufacturers track by man.id"
                                        class="form-control">
                                </select>
                            <span class="help-inline text-danger"
                                  data-ng-show="vm.errors.manufacturer">{{vm.errors.manufacturer}}</span>
                            </div>
                        </div>

                        <div class="form-group text-right">
                            <div class="col-sm-offset-3 col-sm-9">
                                <button type="submit" class="btn btn-default" data-ng-click="vm.save()"
                                        data-translate="weapons.details.button.save">save
                                </button>

                                <button type="button" class="btn btn-primary" data-ng-click="vm.cancel()"
                                        data-translate="weapons.details.button.cancel"></button>
                            </div>
                        </div>

                    </fieldset>
                </form>
            </div>
        </div>

    </div>

    <div class="col-md-6 visible-md-inline-block visible-lg-inline-block">
        <display-item data-item="vm.weapon" data-item-type="weapon"></display-item>
    </div>
</div>
